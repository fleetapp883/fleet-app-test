{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anupp\\\\Downloads\\\\fleet-billing-app\\\\fleet-billing-app\\\\src\\\\App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { collection, addDoc, query, where, getDocs, updateDoc, deleteDoc, doc } from \"firebase/firestore\";\nimport { auth, db } from \"./firebase\";\nimport Auth from \"./components/Auth\";\nimport UploadForm from \"./components/UploadForm\";\nimport ManualEntryForm from \"./components/ManualEntryForm\";\nimport \"./App.css\";\nconst labelToKey = {\n  \"Indent No\": \"IndentNo\",\n  \"Indent Date\": \"IndentDate\",\n  \"Placement Date\": \"PlacementDate\",\n  \"Customer\": \"Customer\",\n  \"Customer Type\": \"CustomerType\",\n  \"Customer Billing Type\": \"CustomerBillingType\",\n  \"Sourcing (Vendor)\": \"SourcingVendor\",\n  \"Vendor Type\": \"VendorType\",\n  \"Vendor Billing Type\": \"VendorBillingType\",\n  \"Origin\": \"Origin\",\n  \"Destination\": \"Destination\",\n  \"Vehicle No\": \"VehicleNo\",\n  \"Vehicle type\": \"VehicleType\",\n  \"Driver No\": \"DriverNo\",\n  \"Dispatch Date\": \"DispatchDate\",\n  \"Deliver Date\": \"DeliverDate\",\n  \"Offloading Date\": \"OffloadingDate\",\n  \"E-way Bill\": \"EwayBill\",\n  \"LR No.\": \"LRNo\",\n  \"Soft Copy POD Rec\": \"SoftCopyPODRec\",\n  \"Hard Copy POD Rec\": \"HardCopyPODRec\",\n  \"Customer -Sale rate\": \"CustomerSaleRate\",\n  \"Advance to be Paid\": \"AdvanceToBePaid\",\n  \"Advance Rec\": \"AdvanceRec\",\n  \"Advance UTR\": \"AdvanceUTR\",\n  \"Advance Rec-Date\": \"AdvanceRecDate\",\n  \"Balance Pending\": \"BalancePending\",\n  \"Detention Charges\": \"DetentionCharges\",\n  \"Loading/Unloading Charges\": \"LoadingUnloadingCharges\",\n  \"Miscellaneous Charges.\": \"MiscCharges\",\n  \"Processing Charges\": \"ProcessingCharges\",\n  \"Net Balance\": \"NetBalance\",\n  \"Balance Rec Amount\": \"BalanceRecAmount\",\n  \"Balance UTR\": \"BalanceUTR\",\n  \"Balance Rec Date\": \"BalanceRecDate\",\n  \"Remaining Balance\": \"RemainingBalance\",\n  \"Remaining Balance UTR\": \"RemainingBalanceUTR\",\n  \"Remaining Balance Date\": \"RemainingBalanceDate\",\n  \"Supplier Buy Rate\": \"SupplierBuyRate\",\n  \"Supplier Advance Pay\": \"SupplierAdvancePay\",\n  \"Supplier Advance Paid\": \"SupplierAdvancePaid\",\n  \"Supplier Mis Charges\": \"SupplierMisCharges\",\n  \"Supplier Invoice No.\": \"SupplierInvoiceNo\",\n  \"Supplier Advance UTR\": \"SupplierAdvanceUTR\",\n  \"Supplier Advance Pay-Date\": \"SupplierAdvancePayDate\",\n  \"Supplier Balance Pending\": \"SupplierBalancePending\",\n  \"Supplier Balance Paid Amount\": \"SupplierBalancePaidAmount\",\n  \"Supplier Balance Paid UTR\": \"SupplierBalancePaidUTR\",\n  \"Supplier Balance Paid Date\": \"SupplierBalancePaidDate\",\n  \"Remaining Supplier Amount\": \"RemainingSupplierAmount\",\n  \"POD Rec Date\": \"PODRecDate\",\n  \"POD Send to Customer Date\": \"PODSendToCustomerDate\",\n  \"POD Docket No.\": \"PODDocketNo\",\n  \"POD Rec By Customer\": \"PODRecByCustomer\",\n  \"POD Deduction If any\": \"PODDeductionIfAny\",\n  \"Gross Profit\": \"GrossProfit\",\n  \"Bad Debts\": \"BadDebts\",\n  \"Net Profit\": \"NetProfit\",\n  \"UniqueNo\": \"UniqueNo\",\n  \"isCurrent\": \"isCurrent\",\n  \"createdBy\": \"createdBy\",\n  \"createdAt\": \"createdAt\"\n};\nconst keyToLabel = Object.fromEntries(Object.entries(labelToKey).map(([k, v]) => [v, k]));\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [searchField, setSearchField] = useState(\"UniqueNo\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleExport = () => {\n    import(\"xlsx\").then(xlsx => {\n      const rows = history.map(row => {\n        const flatRow = {};\n        Object.keys(row).forEach(k => {\n          const value = row[k];\n          flatRow[k] = typeof value === \"object\" && (value === null || value === void 0 ? void 0 : value.seconds) ? new Date(value.seconds * 1000).toLocaleString() : String(value !== null && value !== void 0 ? value : \"\");\n        });\n        return flatRow;\n      });\n      const worksheet = xlsx.utils.json_to_sheet(rows);\n      const workbook = xlsx.utils.book_new();\n      xlsx.utils.book_append_sheet(workbook, worksheet, \"History\");\n      xlsx.writeFile(workbook, \"Fleet_Full_Version_History.xlsx\");\n    });\n  };\n  const handleSearch = async () => {\n    try {\n      const fleetRef = collection(db, \"fleet_records\");\n      let q;\n      if (searchKey) {\n        q = query(fleetRef, where(searchField, \"==\", searchKey));\n      } else {\n        q = query(fleetRef);\n      }\n      const snapshot = await getDocs(q);\n      const allVersions = [];\n      const currentOnly = [];\n      snapshot.forEach(docSnap => {\n        var _row$createdAt;\n        const row = {\n          id: docSnap.id,\n          ...docSnap.data()\n        };\n        const createdAt = ((_row$createdAt = row.createdAt) === null || _row$createdAt === void 0 ? void 0 : _row$createdAt.seconds) ? new Date(row.createdAt.seconds * 1000) : null;\n        const isWithinDateRange = !startDate || !endDate || createdAt && createdAt >= new Date(startDate) && createdAt <= new Date(endDate + \"T23:59:59\");\n        if (isWithinDateRange) {\n          allVersions.push(row);\n          if (row.isCurrent) currentOnly.push(row);\n        }\n      });\n      setHistory(allVersions);\n      setRecords(searchKey ? currentOnly : []);\n    } catch (error) {\n      alert(\"Search failed: \" + error.message);\n    }\n  };\n  const handleUpdate = async row => {\n    try {\n      const {\n        id,\n        ...rest\n      } = row;\n      const cleanData = {};\n      for (const key in rest) {\n        var _rest$key;\n        cleanData[key] = typeof rest[key] === \"string\" || typeof rest[key] === \"number\" ? rest[key] : String((_rest$key = rest[key]) !== null && _rest$key !== void 0 ? _rest$key : \"\");\n      }\n      await updateDoc(doc(db, \"fleet_records\", id), {\n        isCurrent: false,\n        expiredAt: new Date(),\n        modifiedBy: user.email\n      });\n      const newVersion = {\n        ...cleanData,\n        createdAt: new Date(),\n        createdBy: user.email,\n        isCurrent: true,\n        versionDate: new Date()\n      };\n      const docRef = await addDoc(collection(db, \"fleet_records\"), newVersion);\n      const updatedRecords = records.map(r => r.id === id ? {\n        ...newVersion,\n        id: docRef.id\n      } : r);\n      setRecords(updatedRecords);\n      handleSearch();\n      alert(\"✅ Record updated (SCD Type 2)\");\n    } catch (error) {\n      alert(\"❌ Update failed: \" + error.message);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await deleteDoc(doc(db, \"fleet_records\", id));\n      setRecords(records.filter(r => r.id !== id));\n      alert(\"🗑️ Deleted successfully\");\n    } catch (error) {\n      alert(\"❌ Delete error: \" + error.message);\n    }\n  };\n  const toggleDarkMode = () => {\n    setDarkMode(!darkMode);\n    document.body.classList.toggle(\"dark\");\n  };\n  if (!user) return /*#__PURE__*/React.createElement(Auth, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `min-h-screen transition-colors duration-300 ${darkMode ? 'dark bg-gray-900' : 'bg-gray-100'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mx-auto p-6 md:p-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"flex justify-between items-center bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-800 dark:to-gray-700 text-white p-6 rounded-xl shadow-lg mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, \"Fleet Billing Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-lg font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, user.email), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleDarkMode,\n    className: \"p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: `fas ${darkMode ? 'fa-sun' : 'fa-moon'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => signOut(auth),\n    className: \"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"Logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UploadForm, {\n    onDataParsed: data => setRecords([...records, ...data]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ManualEntryForm, {\n    onAddRow: row => setRecords([...records, row]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-xl font-semibold text-blue-600 dark:text-blue-400 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, \"Search Records\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap items-center gap-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: searchField,\n    onChange: e => setSearchField(e.target.value),\n    className: \"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"UniqueNo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"UniqueNo\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Broker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, \"Broker\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: searchKey,\n    onChange: e => setSearchKey(e.target.value),\n    placeholder: \"Search key\",\n    className: \"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center gap-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-gray-700 dark:text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"From:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: startDate,\n    onChange: e => setStartDate(e.target.value),\n    className: \"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center gap-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-gray-700 dark:text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, \"To:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: endDate,\n    onChange: e => setEndDate(e.target.value),\n    className: \"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, \"Search\"))), searchField === \"UniqueNo\" && records.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-xl font-semibold text-blue-600 dark:text-blue-400 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, \"Editable Current Records\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"w-full text-sm text-left text-gray-700 dark:text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"text-xs uppercase bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }, Object.keys(labelToKey).map(label => /*#__PURE__*/React.createElement(\"th\", {\n    key: label,\n    className: \"px-4 py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 23\n    }\n  }, label)), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-4 py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, records.map((row, rowIndex) => {\n    if (!row.UniqueNo) {\n      row.UniqueNo = `UNQ-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    }\n    const readOnly = [\"UniqueNo\", \"createdAt\", \"createdBy\", \"isCurrent\"];\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: rowIndex,\n      className: \"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 23\n      }\n    }, Object.entries(labelToKey).map(([label, key]) => {\n      var _row$key, _row$key2;\n      return /*#__PURE__*/React.createElement(\"td\", {\n        key: key,\n        className: \"px-4 py-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: typeof row[key] === \"object\" && ((_row$key = row[key]) === null || _row$key === void 0 ? void 0 : _row$key.seconds) ? new Date(row[key].seconds * 1000).toLocaleString() : String((_row$key2 = row[key]) !== null && _row$key2 !== void 0 ? _row$key2 : \"\"),\n        onChange: e => {\n          const updated = [...records];\n          updated[rowIndex][key] = e.target.value;\n          setRecords(updated);\n        },\n        readOnly: readOnly.includes(key),\n        className: `w-full p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${readOnly.includes(key) ? 'cursor-not-allowed' : ''}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 29\n        }\n      }));\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"px-4 py-3 flex space-x-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleUpdate(row),\n      className: \"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg transition\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 27\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        if (window.confirm(\"Delete this row?\")) handleDelete(row.id);\n      },\n      className: \"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg transition\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 27\n      }\n    }, \"Delete\")));\n  }))))), history.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-xl font-semibold text-blue-600 dark:text-blue-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 15\n    }\n  }, \"Full Version History\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleExport,\n    className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-file-export mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }), \" Export to Excel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"w-full text-sm text-left text-gray-700 dark:text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"text-xs uppercase bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 19\n    }\n  }, [...new Set(history.flatMap(Object.keys))].map(col => /*#__PURE__*/React.createElement(\"th\", {\n    key: col,\n    className: \"px-4 py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 23\n    }\n  }, col)))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, [...history].sort((a, b) => {\n    var _a$expiredAt, _b$expiredAt;\n    if (a.isCurrent) return -1;\n    if (b.isCurrent) return 1;\n    const aTime = ((_a$expiredAt = a.expiredAt) === null || _a$expiredAt === void 0 ? void 0 : _a$expiredAt.seconds) || 0;\n    const bTime = ((_b$expiredAt = b.expiredAt) === null || _b$expiredAt === void 0 ? void 0 : _b$expiredAt.seconds) || 0;\n    return bTime - aTime;\n  }).map((row, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    className: \"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 23\n    }\n  }, [...new Set(history.flatMap(Object.keys))].map((col, j) => {\n    var _row$col, _row$col2;\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: j,\n      className: \"px-4 py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 27\n      }\n    }, typeof row[col] === \"object\" && ((_row$col = row[col]) === null || _row$col === void 0 ? void 0 : _row$col.seconds) ? new Date(row[col].seconds * 1000).toLocaleString() : String((_row$col2 = row[col]) !== null && _row$col2 !== void 0 ? _row$col2 : \"\"));\n  })))))))));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","onAuthStateChanged","signOut","collection","addDoc","query","where","getDocs","updateDoc","deleteDoc","doc","auth","db","Auth","UploadForm","ManualEntryForm","labelToKey","keyToLabel","Object","fromEntries","entries","map","k","v","App","user","setUser","records","setRecords","history","setHistory","searchKey","setSearchKey","searchField","setSearchField","startDate","setStartDate","endDate","setEndDate","darkMode","setDarkMode","unsubscribe","currentUser","handleExport","then","xlsx","rows","row","flatRow","keys","forEach","value","seconds","Date","toLocaleString","String","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","handleSearch","fleetRef","q","snapshot","allVersions","currentOnly","docSnap","_row$createdAt","id","data","createdAt","isWithinDateRange","push","isCurrent","error","alert","message","handleUpdate","rest","cleanData","key","_rest$key","expiredAt","modifiedBy","email","newVersion","createdBy","versionDate","docRef","updatedRecords","r","handleDelete","filter","toggleDarkMode","document","body","classList","toggle","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","onDataParsed","onAddRow","onChange","e","target","type","placeholder","length","label","rowIndex","UniqueNo","now","Math","floor","random","readOnly","_row$key","_row$key2","updated","includes","window","confirm","Set","flatMap","col","sort","a","b","_a$expiredAt","_b$expiredAt","aTime","bTime","i","j","_row$col","_row$col2"],"sources":["C:/Users/anupp/Downloads/fleet-billing-app/fleet-billing-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport {\n  collection,\n  addDoc,\n  query,\n  where,\n  getDocs,\n  updateDoc,\n  deleteDoc,\n  doc\n} from \"firebase/firestore\";\nimport { auth, db } from \"./firebase\";\nimport Auth from \"./components/Auth\";\nimport UploadForm from \"./components/UploadForm\";\nimport ManualEntryForm from \"./components/ManualEntryForm\";\nimport \"./App.css\";\n\nconst labelToKey = {\n  \"Indent No\": \"IndentNo\", \"Indent Date\": \"IndentDate\", \"Placement Date\": \"PlacementDate\",\n  \"Customer\": \"Customer\", \"Customer Type\": \"CustomerType\", \"Customer Billing Type\": \"CustomerBillingType\",\n  \"Sourcing (Vendor)\": \"SourcingVendor\", \"Vendor Type\": \"VendorType\", \"Vendor Billing Type\": \"VendorBillingType\",\n  \"Origin\": \"Origin\", \"Destination\": \"Destination\", \"Vehicle No\": \"VehicleNo\", \"Vehicle type\": \"VehicleType\",\n  \"Driver No\": \"DriverNo\", \"Dispatch Date\": \"DispatchDate\", \"Deliver Date\": \"DeliverDate\",\n  \"Offloading Date\": \"OffloadingDate\", \"E-way Bill\": \"EwayBill\", \"LR No.\": \"LRNo\",\n  \"Soft Copy POD Rec\": \"SoftCopyPODRec\", \"Hard Copy POD Rec\": \"HardCopyPODRec\", \"Customer -Sale rate\": \"CustomerSaleRate\",\n  \"Advance to be Paid\": \"AdvanceToBePaid\", \"Advance Rec\": \"AdvanceRec\", \"Advance UTR\": \"AdvanceUTR\",\n  \"Advance Rec-Date\": \"AdvanceRecDate\", \"Balance Pending\": \"BalancePending\", \"Detention Charges\": \"DetentionCharges\",\n  \"Loading/Unloading Charges\": \"LoadingUnloadingCharges\", \"Miscellaneous Charges.\": \"MiscCharges\",\n  \"Processing Charges\": \"ProcessingCharges\", \"Net Balance\": \"NetBalance\", \"Balance Rec Amount\": \"BalanceRecAmount\",\n  \"Balance UTR\": \"BalanceUTR\", \"Balance Rec Date\": \"BalanceRecDate\", \"Remaining Balance\": \"RemainingBalance\",\n  \"Remaining Balance UTR\": \"RemainingBalanceUTR\", \"Remaining Balance Date\": \"RemainingBalanceDate\",\n  \"Supplier Buy Rate\": \"SupplierBuyRate\", \"Supplier Advance Pay\": \"SupplierAdvancePay\",\n  \"Supplier Advance Paid\": \"SupplierAdvancePaid\", \"Supplier Mis Charges\": \"SupplierMisCharges\",\n  \"Supplier Invoice No.\": \"SupplierInvoiceNo\", \"Supplier Advance UTR\": \"SupplierAdvanceUTR\",\n  \"Supplier Advance Pay-Date\": \"SupplierAdvancePayDate\", \"Supplier Balance Pending\": \"SupplierBalancePending\",\n  \"Supplier Balance Paid Amount\": \"SupplierBalancePaidAmount\", \"Supplier Balance Paid UTR\": \"SupplierBalancePaidUTR\",\n  \"Supplier Balance Paid Date\": \"SupplierBalancePaidDate\", \"Remaining Supplier Amount\": \"RemainingSupplierAmount\",\n  \"POD Rec Date\": \"PODRecDate\", \"POD Send to Customer Date\": \"PODSendToCustomerDate\",\n  \"POD Docket No.\": \"PODDocketNo\", \"POD Rec By Customer\": \"PODRecByCustomer\", \"POD Deduction If any\": \"PODDeductionIfAny\",\n  \"Gross Profit\": \"GrossProfit\", \"Bad Debts\": \"BadDebts\", \"Net Profit\": \"NetProfit\",\n  \"UniqueNo\": \"UniqueNo\", \"isCurrent\": \"isCurrent\", \"createdBy\": \"createdBy\", \"createdAt\": \"createdAt\"\n};\n\nconst keyToLabel = Object.fromEntries(Object.entries(labelToKey).map(([k, v]) => [v, k]));\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [searchField, setSearchField] = useState(\"UniqueNo\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleExport = () => {\n    import(\"xlsx\").then((xlsx) => {\n      const rows = history.map((row) => {\n        const flatRow = {};\n        Object.keys(row).forEach((k) => {\n          const value = row[k];\n          flatRow[k] =\n            typeof value === \"object\" && value?.seconds\n              ? new Date(value.seconds * 1000).toLocaleString()\n              : String(value ?? \"\");\n        });\n        return flatRow;\n      });\n\n      const worksheet = xlsx.utils.json_to_sheet(rows);\n      const workbook = xlsx.utils.book_new();\n      xlsx.utils.book_append_sheet(workbook, worksheet, \"History\");\n      xlsx.writeFile(workbook, \"Fleet_Full_Version_History.xlsx\");\n    });\n  };\n\nconst handleSearch = async () => {\n  try {\n    const fleetRef = collection(db, \"fleet_records\");\n    let q;\n\n    if (searchKey) {\n      q = query(fleetRef, where(searchField, \"==\", searchKey));\n    } else {\n      q = query(fleetRef);\n    }\n\n    const snapshot = await getDocs(q);\n    const allVersions = [];\n    const currentOnly = [];\n\n    snapshot.forEach((docSnap) => {\n      const row = { id: docSnap.id, ...docSnap.data() };\n\n      const createdAt = row.createdAt?.seconds\n        ? new Date(row.createdAt.seconds * 1000)\n        : null;\n\n      const isWithinDateRange =\n        !startDate || !endDate || (\n          createdAt &&\n          createdAt >= new Date(startDate) &&\n          createdAt <= new Date(endDate + \"T23:59:59\")\n        );\n\n      if (isWithinDateRange) {\n        allVersions.push(row);\n        if (row.isCurrent) currentOnly.push(row);\n      }\n    });\n\n    setHistory(allVersions);\n    setRecords(searchKey ? currentOnly : []);\n  } catch (error) {\n    alert(\"Search failed: \" + error.message);\n  }\n};\n  const handleUpdate = async (row) => {\n    try {\n      const { id, ...rest } = row;\n      const cleanData = {};\n      for (const key in rest) {\n        cleanData[key] =\n          typeof rest[key] === \"string\" || typeof rest[key] === \"number\"\n            ? rest[key]\n            : String(rest[key] ?? \"\");\n      }\n\n      await updateDoc(doc(db, \"fleet_records\", id), {\n        isCurrent: false,\n        expiredAt: new Date(),\n        modifiedBy: user.email\n      });\n\n      const newVersion = {\n        ...cleanData,\n        createdAt: new Date(),\n        createdBy: user.email,\n        isCurrent: true,\n        versionDate: new Date()\n      };\n\n      const docRef = await addDoc(collection(db, \"fleet_records\"), newVersion);\n\n      const updatedRecords = records.map((r) =>\n        r.id === id ? { ...newVersion, id: docRef.id } : r\n      );\n      setRecords(updatedRecords);\n      handleSearch();\n\n      alert(\"✅ Record updated (SCD Type 2)\");\n    } catch (error) {\n      alert(\"❌ Update failed: \" + error.message);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await deleteDoc(doc(db, \"fleet_records\", id));\n      setRecords(records.filter((r) => r.id !== id));\n      alert(\"🗑️ Deleted successfully\");\n    } catch (error) {\n      alert(\"❌ Delete error: \" + error.message);\n    }\n  };\n\n  const toggleDarkMode = () => {\n    setDarkMode(!darkMode);\n    document.body.classList.toggle(\"dark\");\n  };\n\n  if (!user) return <Auth />;\n\n  return (\n    <div className={`min-h-screen transition-colors duration-300 ${darkMode ? 'dark bg-gray-900' : 'bg-gray-100'}`}>\n      <div className=\"container mx-auto p-6 md:p-10\">\n        <header className=\"flex justify-between items-center bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-800 dark:to-gray-700 text-white p-6 rounded-xl shadow-lg mb-8\">\n          <h2 className=\"text-2xl font-semibold\">Fleet Billing Dashboard</h2>\n          <div className=\"flex items-center space-x-4\">\n            <span className=\"text-lg font-medium\">{user.email}</span>\n            <button\n              onClick={toggleDarkMode}\n              className=\"p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\n            >\n              <i className={`fas ${darkMode ? 'fa-sun' : 'fa-moon'}`}></i>\n            </button>\n            <button\n              onClick={() => signOut(auth)}\n              className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition\"\n            >\n              Logout\n            </button>\n          </div>\n        </header>\n\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\">\n          <UploadForm onDataParsed={(data) => setRecords([...records, ...data])} />\n          <ManualEntryForm onAddRow={(row) => setRecords([...records, row])} />\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\">\n          <h4 className=\"text-xl font-semibold text-blue-600 dark:text-blue-400 mb-4\">Search Records</h4>\n          <div className=\"flex flex-wrap items-center gap-4\">\n            <select\n              value={searchField}\n              onChange={(e) => setSearchField(e.target.value)}\n              className=\"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"UniqueNo\">UniqueNo</option>\n              <option value=\"Broker\">Broker</option>\n            </select>\n            <input\n              type=\"text\"\n              value={searchKey}\n              onChange={(e) => setSearchKey(e.target.value)}\n              placeholder=\"Search key\"\n              className=\"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <div className=\"flex items-center gap-2\">\n              <label className=\"text-gray-700 dark:text-gray-300\">From:</label>\n              <input\n                type=\"date\"\n                value={startDate}\n                onChange={(e) => setStartDate(e.target.value)}\n                className=\"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <label className=\"text-gray-700 dark:text-gray-300\">To:</label>\n              <input\n                type=\"date\"\n                value={endDate}\n                onChange={(e) => setEndDate(e.target.value)}\n                className=\"p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <button\n              onClick={handleSearch}\n              className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition\"\n            >\n              Search\n            </button>\n          </div>\n        </div>\n\n        {searchField === \"UniqueNo\" && records.length > 0 && (\n          <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md mb-8\">\n            <h4 className=\"text-xl font-semibold text-blue-600 dark:text-blue-400 mb-4\">Editable Current Records</h4>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm text-left text-gray-700 dark:text-gray-300\">\n                <thead className=\"text-xs uppercase bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-400\">\n                  <tr>\n                    {Object.keys(labelToKey).map((label) => (\n                      <th key={label} className=\"px-4 py-3\">{label}</th>\n                    ))}\n                    <th className=\"px-4 py-3\">Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {records.map((row, rowIndex) => {\n                    if (!row.UniqueNo) {\n                      row.UniqueNo = `UNQ-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n                    }\n                    const readOnly = [\"UniqueNo\", \"createdAt\", \"createdBy\", \"isCurrent\"];\n                    return (\n                      <tr key={rowIndex} className=\"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700\">\n                        {Object.entries(labelToKey).map(([label, key]) => (\n                          <td key={key} className=\"px-4 py-3\">\n                            <input\n                              type=\"text\"\n                              value={\n                                typeof row[key] === \"object\" && row[key]?.seconds\n                                  ? new Date(row[key].seconds * 1000).toLocaleString()\n                                  : String(row[key] ?? \"\")\n                              }\n                              onChange={(e) => {\n                                const updated = [...records];\n                                updated[rowIndex][key] = e.target.value;\n                                setRecords(updated);\n                              }}\n                              readOnly={readOnly.includes(key)}\n                              className={`w-full p-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${readOnly.includes(key) ? 'cursor-not-allowed' : ''}`}\n                            />\n                          </td>\n                        ))}\n                        <td className=\"px-4 py-3 flex space-x-2\">\n                          <button\n                            onClick={() => handleUpdate(row)}\n                            className=\"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg transition\"\n                          >\n                            Save\n                          </button>\n                          <button\n                            onClick={() => {\n                              if (window.confirm(\"Delete this row?\")) handleDelete(row.id);\n                            }}\n                            className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg transition\"\n                          >\n                            Delete\n                          </button>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {history.length > 0 && (\n          <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h4 className=\"text-xl font-semibold text-blue-600 dark:text-blue-400\">Full Version History</h4>\n              <button\n                onClick={handleExport}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition\"\n              >\n                <i className=\"fas fa-file-export mr-2\"></i> Export to Excel\n              </button>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm text-left text-gray-700 dark:text-gray-300\">\n                <thead className=\"text-xs uppercase bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-400\">\n                  <tr>\n                    {[...new Set(history.flatMap(Object.keys))].map((col) => (\n                      <th key={col} className=\"px-4 py-3\">{col}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {[...history]\n                    .sort((a, b) => {\n                      if (a.isCurrent) return -1;\n                      if (b.isCurrent) return 1;\n                      const aTime = a.expiredAt?.seconds || 0;\n                      const bTime = b.expiredAt?.seconds || 0;\n                      return bTime - aTime;\n                    })\n                    .map((row, i) => (\n                      <tr key={i} className=\"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700\">\n                        {[...new Set(history.flatMap(Object.keys))].map((col, j) => (\n                          <td key={j} className=\"px-4 py-3\">\n                            {typeof row[col] === \"object\" && row[col]?.seconds\n                              ? new Date(row[col].seconds * 1000).toLocaleString()\n                              : String(row[col] ?? \"\")}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}